\section{СТРУКТУРА НАБОРА ДАННЫХ}
% TODO: Добавить больше описания в то, как получается датасет
Чтобы создать набор данных для обучения диалоговой модели, которая эмулирует поведение  неигровых персонажей (далее NPC) по заданному описанию в играх, необходимо иметь диалоги, построенные по определенной системе правил. Одной из самой распостраненной, обширной и гибкой системой правил, по которым можно описать NPC, является система Dungeon \& Dragons (далее D\&D), т.к. она обладает вполне определенной структурой. Например, персонажи обязаны иметь конкретное мировозрение, определяющее их поведение и взгляды на поступки, мотивацию, внешнее описание и слабости. Поэтому выбор такой системы выглядит естественным. 

Набор данных, созданный из данных игр во вселенной D\&D, должен содержать примеры диалогов NPC с главным героем и примеры описания NPC в формате Name/Alignment/Description/Flaw/Motivation/Personality.

\section{СБОР ДАННЫХ}
\subsection{СБОР И ПРЕДОБРАБОТКА ПЕРВОНАЧАЛЬНЫХ ДАННЫХ}
Первоначальные данные были получены из следующих игр: 
\begin{enumerate}
      \item Baldur's Gate: Enhanced Edition
      \item Baldur's Gate 2 - Enhanced Edition
      \item Icewind Dale: Enhanced Edition
      \item Planescape: Torment: Enhanced Edition
\end{enumerate}

Такой выбор игр неслучаен: все эти игры были созданы с помощью 
игрового движка Infinity Engine. Диалоги были получены следующим образом:
\begin{enumerate}
      \item Диалоги, которые были использованы, находились в скомпилированом файле, который можно было найти внутри <<.bif>> файла;
      \item Чтобы получить диалоги персонажей в скомпилированном формате с расширением <<.dlg>>,
            была использована программа WinBif;
      \item Далее, с помощью WeiDU, специального транслятора,
            написанного для создания собственных диалогов в играх Infinity Engine в качестве модификации, 
            эти файлы были преобразованы в формат языка <<.d>>; 
      \item Наконец, конвертированы полученные файлы в удобный для анализа JSON-формат,
            который содержал возможные диалоги персонажей с главным героем.
\end{enumerate}

\subsection{ПОСТОБРАБОТКА ПЕРВОНАЧАЛЬНЫХ ДАННЫХ}

Для начала, полученные JSON файлы были проанализированы на предмет NPC, т.к. в этих играх описания взаимодействия с неодушевленными предметами: порталами, сферами и т.д. Из-за того, что такие описания не содержат непосредственно диалогов, они были удалены из выборки. Также было замечено, что в игре Planescape: Torment: Enhanced Edition в отличии от остальных игр на движке Infinity Engine в диалоговых файлах по мимо самих диалогов в текстовом виде достаточно часто было описано то, что видит перед собой игрок, что в последствии сильно поможет составлению набора данных. Такую полезную информацию нельзя упускать и следует иметь помимо обычных реплик NPC дополнительный констекст диалога. К тому же игра обладает самым большим корпусом диалогов и в качестве анализируемых данных будут использованы диалоги из Planescape: Torment: Enhanced Edition.